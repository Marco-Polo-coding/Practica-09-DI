import{j as e}from"./jsx-runtime.CLpGMVip.js";import{r as s}from"./index.D15Q2Owl.js";import{r as v,d as j,g as N}from"./firebaseConfig.hnSZw18Z.js";const L=t=>t.replace(/\./g,","),z=({courseId:t})=>{const[d,r]=s.useState(!1),[u,m]=s.useState(!1),[b,i]=s.useState(!1),[g,l]=s.useState(!1),[p,c]=s.useState(!1),w={0:"https://www.youtube.com/embed/videoseries?si=C_68kVQFAj2luljL&amp;list=PLw3xpQ527lU0Lo_ZD5N_W102p9ZxeNzQq",1:"https://www.youtube.com/embed/videoseries?si=qOfkGZGkXi2tmtRa&amp;list=PLw3xpQ527lU2rmFT8k2ULrHSjJXVy8Xxw",2:"https://www.youtube.com/embed/videoseries?si=3CWiSG6Hy9ADZyKb&amp;list=PLE9GU8FRiaIwtaXK5R-z2wwwjMAU7sl_d",3:"https://www.youtube.com/embed/videoseries?si=VrnvRl5A-YttQDHL&amp;list=PLE9GU8FRiaIzHPVOpcHDK8q_2JaaZON0v",4:"https://www.youtube.com/embed/videoseries?si=Bf2zaE2bT3J96kBi&amp;list=PLjEaoINr3zgFX8ZsChQVQsuDSjEqdWMAD",5:"https://www.youtube.com/embed/videoseries?si=WD2IZuFPDOA7nvpQ&amp;list=PLjEaoINr3zgEL9UjPTLWQhLFAK7wVaRMR",6:"https://www.youtube.com/embed/videoseries?si=jZ0yKelbXRSyWtAJ&amp;list=PLMXbAPr21di9nmPb0-72_avg9QhiPUHyg",7:"https://www.youtube.com/embed/videoseries?si=sJbZzo4vfvUqgjWC&amp;list=PLMXbAPr21di_-1K8CMTAdIUZ-qhxwZwgS",8:"https://www.youtube.com/embed/videoseries?si=sQVhN3TPEDtOBbWk&amp;list=PLMXbAPr21di-Ox-dmDwL2riWedei1dn9S"}[t]||"";s.useEffect(()=>{const a=JSON.parse(localStorage.getItem("loggedInUser"));if(m(!!a),a){const y=L(a.email);(async()=>{try{const o=v(j,`users/${y}`),n=await N(o);n.exists()&&n.val().purchasedCourses?.includes(t)?i(!0):i(!1)}catch(o){console.error("Error al verificar el acceso al curso:",o)}})()}},[t]);const h=()=>{if(!u){l(!0);return}if(!b){c(!0);return}r(!0)},x=()=>{l(!1)},f=()=>{c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white text-center py-3 px-6 rounded-lg transition-colors block font-medium",children:"Acceder al curso"}),g&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative z-10 w-96 flex flex-col items-center text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Debes iniciar sesiÃ³n para acceder al contenido del curso."}),e.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Entendido"})]})}),p&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative z-10 w-96 flex flex-col items-center text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Debes comprar este curso para acceder a su contenido."}),e.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Entendido"})]})}),d&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full p-6 relative",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Ver curso"}),e.jsx("div",{className:"relative w-full aspect-video",children:e.jsx("iframe",{width:"100%",height:"315",src:w,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"rounded-lg"})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cerrar"})})]})})]})};export{z as default};
